<%= title('Dashboard') %>

<div class="container tmp-container-spacer">
  <div class= 'col-lg-8 offset-lg-2'>
    <h1 class="page-heading-title">Dashboard</h1>

    <div class="card-main profile-card">
      <%= render User::AvatarComponent.new(current_user: current_user, classes: ' w-24') %>
      <h2 class="profile-card__username text-2xl pl-4" data-test-id="profile_username"><%= current_user.username %></h2>
      <p class="profile-card__learning-goal" data-test-id='learning_goal'><%= display_dashboard_learning_goal(current_user).html_safe %></p>
    </div>

    <div class="skills">
      <div class="skills__header">
        <h2 class="skills__title text-2xl">Skills Progress</h2>
        <% if current_user.path.courses.size > 1 %>
          <p class="skills__content">
            The following courses should be taken in order
          </p>
        <% end %>
      </div>

      <%= render partial: 'skill', collection: @courses, as: :course %>
    </div>

    <%= render 'project_submissions', project_submissions: current_user.project_submissions %>
  </div>

   <%= render 'shared/bottom_cta',
      button: chat_button,
      heading: 'Have a question?',
      sub_heading: 'Chat with our friendly Odin community in our Discord chatrooms!'
    %>
</div>
